<!--
Auto-saved: Validation properties failed to update after 6 retries
Page ID: 2b0a89fe-dba5-8105-8f81-f147fce3dc6b
Page URL: https://www.notion.so/Configure-Service-Graph-Connector-for-AWS-using-SGC-Central-2b0a89fedba581058f81f147fce3dc6b
Page Title: Configure Service Graph Connector for AWS using SGC Central
Created: 2025-11-19T15:20:47.491Z
Source URL: https://www.servicenow.com/docs/bundle/yokohama-servicenow-platform/page/product/sgc-central/task/sgcc-configure-aws-integ.html

Validation Result:
{
  "success": false,
  "hasErrors": true,
  "issues": [
    "Block count too low: expected at least 14, got 0",
    "Table count mismatch: expected 7, got 0",
    "Missing callouts: expected 10, got 0 (10 missing)"
  ],
  "warnings": [
    "Ordered list item count differs: expected 60, got 0 (60 fewer - may be counting methodology difference)",
    "Unordered list item count differs: expected 7, got 0 (7 fewer - may be counting methodology difference)",
    "â„¹ï¸ Paragraph count lower than expected: ~23 (Â±12), got 0 (may be filtered empty paragraphs or promoted to list items)"
  ],
  "stats": {
    "totalBlocks": 0,
    "blockTypes": {},
    "headingCount": 0,
    "fetchTimeMs": 183
  },
  "summary": "âŒ Validation failed: 3 critical error(s), 3 informational warning(s)\n\nâŒ Critical Errors:\n1. Block count too low: expected at least 14, got 0\n2. Table count mismatch: expected 7, got 0\n3. Missing callouts: expected 10, got 0 (10 missing)\n\nâ„¹ï¸ Informational Warnings:\n1. Ordered list item count differs: expected 60, got 0 (60 fewer - may be counting methodology difference)\n2. Unordered list item count differs: expected 7, got 0 (7 fewer - may be counting methodology difference)\n3. â„¹ï¸ Paragraph count lower than expected: ~23 (Â±12), got 0 (may be filtered empty paragraphs or promoted to list items)\n\nðŸ“Š Content Comparison (Source â†’ Notion):\nâ€¢ Ordered list items: 60 â†’ 0\nâ€¢ Unordered list items: 7 â†’ 0\nâ€¢ Paragraphs: 23 â†’ 0\nâ€¢ Headings: 1 â†’ 0\nâ€¢ Tables: 7 â†’ 0\nâ€¢ Images: 0 â†’ 0\nâ€¢ Callouts: 10 â†’ 0",
  "sourceCounts": {
    "orderedListItems": 60,
    "unorderedListItems": 7,
    "totalListItems": 67,
    "paragraphs": 23,
    "headings": 1,
    "tables": 7,
    "images": 0,
    "callouts": 10,
    "codeBlocks": 0
  },
  "notionCounts": {
    "orderedListItems": 0,
    "unorderedListItems": 0,
    "totalListItems": 0,
    "paragraphs": 0,
    "headings": 0,
    "tables": 0,
    "images": 0,
    "callouts": 0,
    "codeBlocks": 0
  }
}

Error Details:
- Primary Error: You have been rate limited. Please try again in a few minutes.
-->

<div class="zDocsTopicPageBody" data-prismjs-copy="Copy" data-prismjs-copy-error="Text could not be copied. Try using keyboard shortcuts like Ctrl + C to copy instead." data-prismjs-copy-success="Copied!"><div dir="ltr" class="zDocsTopicPageBodyContent"><div><article class="hascomments" data-page="bundle:yokohama-servicenow-platform/enus/product/sgc-central/task/sgcc-configure-aws-integ.html" id="bundle:yokohama-servicenow-platform/enus/product/sgc-central/task/sgcc-configure-aws-integ.html"><main role="main"><article role="article" class="dita" id="sgcc-configure-aws-integ" aria-labelledby="title_sgcc-configure-aws-integ">
   
   
   
   
   <div class="body taskbody"><p class="shortdesc">Use the playbook available with the <span class="ph">SGC Central</span> application to set up the <span class="ph">Service Graph Connector for AWS</span> for pulling in <span class="ph">AWS</span> data into the <span class="ph">CMDB</span></p>
      <section class="section prereq"><div class="tasklabel"><p class="sectiontitle tasklabel">Before you begin</p></div>
         <ul class="ul" id="sgcc-configure-aws-integ__ul_jsj_l51_fdc">
            <li class="li">Install <span class="ph">Service Graph Connector for AWS</span> version 2.7.0 or later from the <span class="ph">ServiceNow Store</span>. <span class="ph">For <span class="ph">ServiceNow Store</span> installation steps, see
            <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/sgc-central/task//csh" href="/docs/csh?topicname=t_InstallApplications&amp;version=yokohama&amp;pubname=yokohama-platform-administration" class="xref">Install a ServiceNow Store
            application</a>. </span></li>
            <li class="li">Verify that youâ€™ve completed the prerequisites for setting up <span class="ph">AWS</span>. See <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/task/sgc-cmdb-aws-task-overview.html" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/task/sgc-cmdb-aws-task-overview.html" class="xref" title="Configure your Amazon Web Services (AWS) environment to import data using the Service Graph Connector for AWS.">Configure the AWS environment</a>.</li>
         </ul>
         <div class="p">Role required: The following table shows the roles required for each stage of the playbook.<div class="table-wrap"><table count-columns="2" class="table frame-all" id="sgcc-configure-aws-integ__table_ulb_zry_ygc"><caption><span class="table--title-label">Table 1. </span><span class="title">Role required for each playbook stage</span></caption><colgroup><col><col></colgroup><thead class="thead">
                     <tr class="row">
                        <th class="entry colsep-1 rowsep-1" id="sgcc-configure-aws-integ__table_ulb_zry_ygc__entry__1">Stage</th>
                        <th class="entry colsep-1 rowsep-1" id="sgcc-configure-aws-integ__table_ulb_zry_ygc__entry__2">Role</th>
                     </tr>
                  </thead><tbody class="tbody">
                     <tr class="row">
                        <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ulb_zry_ygc__entry__1">Prerequisites</td>
                        <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ulb_zry_ygc__entry__2">admin</td>
                     </tr>
                     <tr class="row">
                        <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ulb_zry_ygc__entry__1">Setup</td>
                        <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ulb_zry_ygc__entry__2">cmdb_inst_admin or admin</td>
                     </tr>
                  </tbody></table></div></div>
      </section>
      <section class="section context" id="sgcc-configure-aws-integ__context_m2f_ggk_wbc"><div class="tasklabel"><p class="sectiontitle tasklabel">About this task</p></div>
         <p class="p">The playbook experience for onboarding connectors is activated with <span class="ph">SGC Central</span> in the <span class="ph">CMDB Workspace</span>. To configure the <span class="ph">SGC Central</span> application, see <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/sgc-central/concept/sgcc-configuring.html" href="/docs/bundle/yokohama-servicenow-platform/page/product/sgc-central/concept/sgcc-configuring.html" class="xref" title="Set up the SGC Central application for onboarding and maintaining Service Graph Connectors and monitoring the errors related to connections added using Service Graph Connectors.">Configuring SGC Central</a> and for more information on how to interact with a playbook, see <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/sgc-central/task//csh" href="/docs/csh?topicname=playbook-ui&amp;version=yokohama&amp;pubname=yokohama-build-workflows" class="xref">Interact with Playbook</a>.</p>
      </section>
      <section><div class="tasklabel"><p class="sectiontitle tasklabel">Procedure</p></div><ol class="ol steps"><li class="li step stepexpand">
            <span class="ph cmd">Navigate to <span class="ph menucascade"><span class="ph uicontrol">Workspaces</span><abbr> &gt; </abbr><span class="ph uicontrol">CMDB Workspace</span></span>.</span>
         </li><li class="li step stepexpand">
            <span class="ph cmd">In the <span class="ph">CMDB Workspace</span>, select <span class="ph uicontrol">SGC Central</span>.</span>
         </li><li class="li step stepexpand">
            <span class="ph cmd">On the Dashboard page, select <span class="ph uicontrol">Create connection</span>.</span>
            <div class="itemgroup info">
               <div class="note tip note_tip"><span class="note__title">Tip:</span> Alternatively, you can select <span class="ph uicontrol">Create connection</span> on the All connections page.</div>
            </div>
         </li><li class="li step stepexpand">
            <span class="ph cmd">On the Create connection window, select the <span class="ph">AWS</span> connector type and then select <span class="ph uicontrol">Create connection</span>.</span>
         </li><li class="li step stepexpand">
            <span class="ph cmd">Complete the initial prerequisites when setting up a connection for the first time using a connector.</span>
            <div class="itemgroup info">
               <div class="note note note_note"><span class="note__title">Note:</span> This step is required only during the first-time setup. See <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/sgc-central/task/sgcc-first-time-setup.html" href="/docs/bundle/yokohama-servicenow-platform/page/product/sgc-central/task/sgcc-first-time-setup.html" class="xref" title="Complete the prerequisites for setting up a connection for the first time using a Service Graph Connector within the SGC Central view of the CMDB Workspace.">Perform initial setup tasks when creating a connection in SGC Central</a>.</div>
            </div>
         </li><li class="li step stepexpand">
            <span class="ph cmd">Complete the prerequisites for setting up the <span class="ph">AWS</span> environment.</span>
            <ol type="a" class="ol substeps">
               <li class="li substep substepexpand">
                  <span class="ph cmd">Configure the basic setup in the <span class="ph">AWS</span> environment required for importing data using the connector.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="sgcc-configure-aws-integ__ol_f3x_ypk_wbc">
                        <li class="li">In the <span class="ph uicontrol">Prerequisites</span> stage of the playbook, select the <span class="ph uicontrol">Download basic scripts</span> activity.</li>
                        <li class="li">Execute the scripts to configure the <span class="ph">AWS</span> environment.<p class="p">For more information on executing scripts, see <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/concept/sgc-cmdb-aws-script-op.html" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/concept/sgc-cmdb-aws-script-op.html#sgc-cmdb-aws-script-op__section_vfh_wyf_4zb" class="xref">Basic scripts</a>.</p></li>
                        <li class="li">Select the <span class="ph uicontrol">I have read the instructions and executed the script accordingly</span> check box to confirm that you have executed the scripts.</li>
                        <li class="li">Select <span class="ph uicontrol">Continue</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Set up deep discovery on Amazon Elastic Compute Cloud (Amazon EC2) instances.</span>
                  <div class="itemgroup info">
                     <div class="note note note_note"><span class="note__title">Note:</span> Complete this step only to perform deep discovery on EC2 instances. Else, select <span class="ph uicontrol">Skip</span>.</div>
                     <ol class="ol" type="i" id="sgcc-configure-aws-integ__ol_ddh_frk_wbc">
                        <li class="li">In the <span class="ph uicontrol">Prerequisites</span> stage of the playbook, select the <span class="ph uicontrol">Download deep discovery scripts</span> activity.</li>
                        <li class="li">Execute the scripts to configure <span class="ph"><span class="ph">Amazon</span> EC2 instances</span> for deep discovery.<p class="p">For more information on executing scripts, see <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/concept/sgc-cmdb-aws-script-op.html" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/concept/sgc-cmdb-aws-script-op.html#sgc-cmdb-aws-script-op__section_ahc_jwf_4zb" class="xref">Deep discovery scripts</a>.</p></li>
                        <li class="li">Select <span class="ph uicontrol">Continue</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Set up Amazon Elastic Kubernetes Service (EKS) clusters.</span>
                  <div class="itemgroup info">
                     <div class="note note note_note"><span class="note__title">Note:</span> Complete this step only when the Amazon EKS service for Kubernetes clusters is required. Else, select <span class="ph uicontrol">Skip</span>.</div>
                     <ol class="ol" type="i" id="sgcc-configure-aws-integ__ol_hrt_xrk_wbc">
                        <li class="li">In the <span class="ph uicontrol">Prerequisites</span> stage of the playbook, select the <span class="ph uicontrol">Download Amazon EKS scripts</span> activity.</li>
                        <li class="li">Execute the scripts to set up Amazon EKS clusters.<p class="p">For more information on executing scripts, see <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/concept/sgc-cmdb-aws-script-op.html" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/concept/sgc-cmdb-aws-script-op.html#sgc-cmdb-aws-script-op__section_osh_4zf_4zb" class="xref">Amazon EKS scripts</a>.</p></li>
                        <li class="li">Select <span class="ph uicontrol">Continue</span>.</li>
                     </ol>
                  </div>
               </li>
            </ol>
         </li><li class="li step stepexpand">
            <span class="ph cmd">Complete the setup for configuring the connector for importing data.</span>
            <ol type="a" class="ol substeps" id="sgcc-configure-aws-integ__substeps_vrw_2tk_wbc">
               <li class="li substep substepexpand">
                  <span class="ph cmd">Create and test connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="sgcc-configure-aws-integ__ol_hfg_3gy_prb">
                        <li class="li">In the <span class="ph uicontrol">Setup</span> stage of the playbook, select the <span class="ph uicontrol">Create and test connection</span> activity.</li>
                        <li class="li" id="sgcc-configure-aws-integ__aws-cred-0">On the form, fill in the fields.<div class="table-wrap"><div id="sgcc-configure-aws-integ__table_iw5_j5k_wbc_wrapper" class="dataTables_wrapper no-footer"><div id="sgcc-configure-aws-integ__table_iw5_j5k_wbc_filter" class="dataTables_filter"></div><div class="zDocsFilterTableDiv zDocsFilterColumnsTableDiv"><div><button type="button" data-toggle="dropdown" aria-label="Export table to a file" class="zDocsTopicPageTableExportButton"><svg aria-hidden="true" class="ico-ellipsis-v"><use xlink:href="#ico-ellipsis-v"></use></svg></button><div class="dropdown-menu zDocsDropdownMenu zDocsTopicPageTableExportMenu"><button type="button" aria-label="Export to Excel" class="dropdown-item">Export to Excel</button><button type="button" aria-label="Export to CSV" class="dropdown-item">Export to CSV</button></div></div></div><table count-columns="2" class="table frame-all dataTable no-footer" id="sgcc-configure-aws-integ__table_iw5_j5k_wbc"><caption><span class="table--title-label">Table 2. </span><span class="title">Create and test connection form</span></caption><colgroup><col><col></colgroup><thead class="thead">
                                    <tr class="row"><th class="entry colsep-1 rowsep-1 sorting" id="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__1" tabindex="0" aria-controls="sgcc-configure-aws-integ__table_iw5_j5k_wbc" rowspan="1" colspan="1" aria-label="Field: activate to sort column ascending">Field</th><th class="entry colsep-1 rowsep-1 sorting" id="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__2" tabindex="0" aria-controls="sgcc-configure-aws-integ__table_iw5_j5k_wbc" rowspan="1" colspan="1" aria-label=": activate to sort column ascending"></th></tr>
                                 </thead><tbody class="tbody">
                                    
                                    
                                    
                                    
                                    
                                 <tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__1">Connection name</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__2">Name to identify the <span class="ph">AWS</span> connection record.<p class="p">For example, <kbd class="ph userinput">SG_AWS_CredentialAlias_Org</kbd>. </p></td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__1">Access Key ID</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__2">Access key ID of the IAM user that has permissions to interact with the AWS resources.</td>
                                    </tr><tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__1">Secret Access Key</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__2">Secret access key that corresponds to the Access key ID required for authenticating the connection securely.</td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__1">Use MID Server</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__2">Option to use a MID Server.<div class="note note note_note"><span class="note__title">Note:</span> Use of a MID Server is optional.</div></td>
                                    </tr><tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__1">Mid Selection</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_iw5_j5k_wbc__entry__2">Name of the MID Server used by the connector.<p class="p">This field appears only when the <span class="ph uicontrol">Use MID Server</span> check box is selected.</p></td>
                                    </tr></tbody></table></div></div></li>
                        <li class="li">Select <span class="ph uicontrol">Create and test connection</span>.</li>
                        <li class="li">Once the connection test is complete, select <span class="ph uicontrol">Continue</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Set configuration properties for the connection to access the <span class="ph">AWS</span> resources.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="sgcc-configure-aws-integ__ol_ssq_x5l_wbc">
                        <li class="li">In the <span class="ph uicontrol">Setup</span> stage of the playbook, select the <span class="ph uicontrol">Set configuration properties</span> activity.</li>
                        <li class="li">In the Organization details section, fill in the organization details including the account identifier, name and description of the <span class="ph">AWS</span> organization.</li>
                        <li class="li">In the S3 account details section, fill in the details.<div class="table-wrap"><table count-columns="2" class="table frame-all" id="sgcc-configure-aws-integ__table_xxk_h1m_wbc"><caption><span class="table--title-label">Table 3. </span><span class="title">S3 account details</span></caption><colgroup><col><col></colgroup><thead class="thead">
                                    <tr class="row">
                                       <th class="entry colsep-1 rowsep-1" id="sgcc-configure-aws-integ__table_xxk_h1m_wbc__entry__1">Field</th>
                                       <th class="entry colsep-1 rowsep-1" id="sgcc-configure-aws-integ__table_xxk_h1m_wbc__entry__2">Description</th>
                                    </tr>
                                 </thead><tbody class="tbody">
                                    <tr class="row">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_xxk_h1m_wbc__entry__1">S3 account ID</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_xxk_h1m_wbc__entry__2">Numeric identifier of the <span class="ph">AWS</span> account that hosts the <span class="ph">Amazon</span> Simple Storage Service (<span class="ph">Amazon</span> S3) bucket.</td>
                                    </tr>
                                    <tr class="row">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_xxk_h1m_wbc__entry__1">S3 bucket name</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_xxk_h1m_wbc__entry__2">Name of the <span class="ph">Amazon</span> S3 bucket that collects the details from <span class="ph">Amazon</span> EC2 instances.</td>
                                    </tr>
                                    <tr class="row">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_xxk_h1m_wbc__entry__1">S3 region</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_xxk_h1m_wbc__entry__2">Region where the <span class="ph">Amazon</span> S3 bucket resides.</td>
                                    </tr>
                                 </tbody></table></div></li>
                        <li class="li">In the <span class="ph uicontrol">AWS regions</span> field of the AWS regions and STS assume role name section, enter the <span class="ph">AWS</span> regions to collect the CI data.<p class="p">By default, the <span class="ph">Service Graph Connector for <span class="ph">AWS</span></span> runs through all the <span class="ph">AWS</span> regions to collect the CI data.</p><p class="p">You can enter <span class="ph">AWS</span> specific regions to speed up the CI data import process. For example, <code class="ph codeph">us-east1,
                              us-east-2</code>.</p><p class="p">If
                              you update the <span class="ph uicontrol">AWS regions</span> field value later, clear the value of the <span class="ph uicontrol">Last run datetime</span> field in all the data sources related to the <span class="ph">Service Graph Connector for AWS</span> to import a new set of data.</p></li>
                        <li class="li">In the <span class="ph uicontrol">STS assume role name</span> field of the AWS regions and STS assume role name section, enter the AWS Identity and Access Management (IAM) role name.<div class="p">The AWS IAM role name is obtained by
                              the <span class="ph">ServiceNow</span> user by calling the <span class="keyword apiname">AssumeRole</span> API offered by the <span class="ph">AWS</span> Security Token Service (STS). The <span class="keyword apiname">AssumeRole</span> API returns a set of temporary security credentials for the <span class="ph">ServiceNow</span> user to access the <span class="ph">AWS</span> resources.<div class="note note note_note"><span class="note__title">Note:</span> Enter the IAM role name but donâ€™t prefix <code class="ph codeph">arn</code> in the name. If you leave this field is empty, the value of this field is automatically set
                                 to <span class="ph uicontrol">SnowOrganizationAccountAccessRole</span>, which is the default IAM role name for the <span class="ph">ServiceNow</span> user.</div></div>
                        </li>
                        <li class="li">In the SSM SendCommand document details section, enter the name of the document that defines the actions run by the <span class="ph">AWS</span> Systems Manager (SSM) on a Linux-based <span class="ph">Amazon</span> EC2 instance or a Windows-based <span class="ph">Amazon</span> EC2 instance in their respective fields.</li>
                        <li class="li">In the <span class="ph uicontrol">Management account ID</span> field of the Management account ID and standalone account ID section, enter the management account ID in the <span class="ph">AWS</span> organization.<p class="p">Enter a value for this field when the <span class="ph">ServiceNow</span> user was created in an <span class="ph">AWS</span> member account.</p><p class="p">The account calls the <span class="keyword apiname">ListAccounts</span> API associated with the <span class="ph">AWS</span> organization to collect CI information from all the accounts. For more information, see <a class="xref true-external" href="https://docs.aws.amazon.com/organizations/latest/APIReference/API_ListAccounts.html" target="_blank">ListAccounts</a> on the <span class="ph">AWS</span> documentation site.</p></li>
                        <li class="li">In the <span class="ph uicontrol">Standalone account ID</span> field of the Management account ID and standalone account ID section, enter the ID of a member account in the <span class="ph">AWS</span> organization.<div class="note note note_note"><span class="note__title">Note:</span> When specifying a standalone account, the <span class="ph">AWS</span> organization-related data such as the organization name, organization units, organization ID, and service accounts are not imported. To import the full data later, clear
                              any value mentioned in the <span class="ph uicontrol">Standalone account ID</span> field. See the <a class="xref true-external" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB1642159" target="_blank">Service Graph Connector for AWS - Standalone Setup [KB1642159]</a> article in the <span class="ph">Now Support</span> Knowledge Base.</div></li>
                        <li class="li">In the AWS config aggregator details section, enter the <span class="ph">AWS</span> account details for the aggregator resource type.<div class="table-wrap"><table count-columns="2" class="table frame-all" id="sgcc-configure-aws-integ__table_ztj_2cm_wbc"><caption><span class="table--title-label">Table 4. </span><span class="title">AWS config aggregator details</span></caption><colgroup><col><col></colgroup><thead class="thead">
                                    <tr class="row">
                                       <th class="entry colsep-1 rowsep-1" id="sgcc-configure-aws-integ__table_ztj_2cm_wbc__entry__1">Field</th>
                                       <th class="entry colsep-1 rowsep-1" id="sgcc-configure-aws-integ__table_ztj_2cm_wbc__entry__2">Description</th>
                                    </tr>
                                 </thead><tbody class="tbody">
                                    <tr class="row">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ztj_2cm_wbc__entry__1">Config aggregator account</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ztj_2cm_wbc__entry__2"><span class="ph">AWS</span> account where the aggregator resource type in the <span class="ph">AWS</span> Config service has been configured.<p class="p">Enter a value in this field when youâ€™re using an <span class="ph">AWS</span> Config aggregator.</p></td>
                                    </tr>
                                    <tr class="row">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ztj_2cm_wbc__entry__1">Config aggregator name</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ztj_2cm_wbc__entry__2">Name of the aggregator resource type. This field is available only when you enter a value in the <span class="ph uicontrol">Config aggregator account</span> field.</td>
                                    </tr>
                                    <tr class="row">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ztj_2cm_wbc__entry__1">Config aggregator region</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_ztj_2cm_wbc__entry__2">Region where the aggregator resource type resides. This field is available only when you enter a value in the <span class="ph uicontrol">Config aggregator account</span> field.</td>
                                    </tr>
                                 </tbody></table></div></li>
                        <li class="li">In the AWS key rotation setup section, enter the key rotation process details.<div class="table-wrap"><div id="sgcc-configure-aws-integ__table_gdq_mcm_wbc_wrapper" class="dataTables_wrapper no-footer"><div id="sgcc-configure-aws-integ__table_gdq_mcm_wbc_filter" class="dataTables_filter"></div><div class="zDocsFilterTableDiv zDocsFilterColumnsTableDiv"><div><button type="button" data-toggle="dropdown" aria-label="Export table to a file" class="zDocsTopicPageTableExportButton"><svg aria-hidden="true" class="ico-ellipsis-v"><use xlink:href="#ico-ellipsis-v"></use></svg></button><div class="dropdown-menu zDocsDropdownMenu zDocsTopicPageTableExportMenu"><button type="button" aria-label="Export to Excel" class="dropdown-item">Export to Excel</button><button type="button" aria-label="Export to CSV" class="dropdown-item">Export to CSV</button></div></div></div><table count-columns="2" class="table frame-all dataTable no-footer" id="sgcc-configure-aws-integ__table_gdq_mcm_wbc"><caption><span class="table--title-label">Table 5. </span><span class="title">AWS key rotation setup</span></caption><colgroup><col><col></colgroup><thead class="thead">
                                    <tr class="row"><th class="entry colsep-1 rowsep-1 sorting" id="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__1" tabindex="0" aria-controls="sgcc-configure-aws-integ__table_gdq_mcm_wbc" rowspan="1" colspan="1" aria-label="Field: activate to sort column ascending">Field</th><th class="entry colsep-1 rowsep-1 sorting" id="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__2" tabindex="0" aria-controls="sgcc-configure-aws-integ__table_gdq_mcm_wbc" rowspan="1" colspan="1" aria-label="Description: activate to sort column ascending">Description</th></tr>
                                 </thead><tbody class="tbody">
                                    
                                    
                                    
                                    
                                    
                                    
                                 <tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__1">AWS rotate keys</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__2">Option to enable the key rotation process.</td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__1">AWS key rotation date</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__2">Key rotation date. <span class="ph">Set the value to the required key rotation date for the first run. For subsequent runs, this field is automatically set to the rotation date.</span> This field is available only when you select the <span class="ph uicontrol">AWS Rotate Keys</span> check
                                          box.</td>
                                    </tr><tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__1">AWS key rotation period (in days)</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__2">Key rotation period in days. This field is available only when you select the <span class="ph uicontrol">AWS rotate keys</span> check box.</td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__1">AWS key rotation status</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__2">Status message of a key rotation displaying whether the rotation was a success or a failure. This field is automatically set to display the key rotation status message. This field is available
                                          only when you select the <span class="ph uicontrol">AWS rotate keys</span> check box. If the rotation status is a failure, an email notification is triggered, if configured.</td>
                                    </tr><tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__1">Email accounts for receiving error notifications</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__2">Comma-separated list of the email addresses of recipients who receive notifications about the <span class="ph">AWS</span> key rotation errors.</td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__1">Email account groups for receiving error notifications</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_gdq_mcm_wbc__entry__2">Comma-separated list of the <span class="ph">ServiceNow</span> groups who receive notifications about the <span class="ph">AWS</span> key rotation errors.</td>
                                    </tr></tbody></table></div></div></li>
                        <li class="li">Select the <span class="ph uicontrol">Is gov cloud</span> check box in the Gov cloud setup section to indicate that the connection setup is for the <span class="ph">AWS</span> GovCloud.</li>
                        <li class="li">In the SSM EKS SendCommand document details section, enter the <span class="ph">AWS</span> SSM document details.<div class="table-wrap"><table count-columns="2" class="table frame-all" id="sgcc-configure-aws-integ__table_phc_bdm_wbc"><caption><span class="table--title-label">Table 6. </span><span class="title">SSM EKS SendCommand document details</span></caption><colgroup><col><col></colgroup><thead class="thead">
                                    <tr class="row">
                                       <th class="entry colsep-1 rowsep-1" id="sgcc-configure-aws-integ__table_phc_bdm_wbc__entry__1">Field</th>
                                       <th class="entry colsep-1 rowsep-1" id="sgcc-configure-aws-integ__table_phc_bdm_wbc__entry__2">Description</th>
                                    </tr>
                                 </thead><tbody class="tbody">
                                    <tr class="row">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_phc_bdm_wbc__entry__1">EKS cluster names document</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_phc_bdm_wbc__entry__2">Name of the <span class="ph">AWS</span> SSM document to discover EKS clusters associated with EC2 Bastion hosts.</td>
                                    </tr>
                                    <tr class="row">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_phc_bdm_wbc__entry__1">EKS shell script document</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_phc_bdm_wbc__entry__2">Name of the <span class="ph">AWS</span> SSM document to fetch CIs related to Kubernetes components, such as pods, services, and deployments, from EKS clusters.</td>
                                    </tr>
                                 </tbody></table></div></li>
                        <li class="li">Select <span class="ph uicontrol">Save properties</span>.</li>
                        <li class="li">Select <span class="ph uicontrol">Continue</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Configure the required EC2 resources for <span class="ph">Amazon Elastic Kubernetes Service (EKS)</span> to import EKS cluster data.</span>
                  <div class="itemgroup info"><div class="note note note_note"><span class="note__title">Note:</span> Complete this step only when EC2 resources are needed. Else, select <span class="ph uicontrol">Skip</span> for the <span class="ph uicontrol">Configure EKS EC2 resources</span> activity.</div>An <span class="ph">EKS EC2 resource</span> is a
                     bastion host that has network access to EKS clusters. The EKS clusters aren't directly accessible to the connector. Therefore, you must provide the <span class="ph">EKS EC2 resource</span> details. For importing EKS cluster data, the
                     connector uses the SSM Send Command on <span class="ph">EKS EC2 resources</span> to run kubectl commands remotely.<div class="note note note_note"><span class="note__title">Note:</span> Ensure that youâ€™ve configured your <span class="ph">AWS</span> environment for the EKS integration. For more information, see the <a class="xref true-external" href="https://support.servicenow.com/kb_view.do?sysparm_article=KB1437138" target="_blank">Service Graph Connector for AWS - Amazon EKS Integration [KB1437138]</a> article in the <span class="ph">Now Support</span> Knowledge Base.</div><ol class="ol" type="i" id="sgcc-configure-aws-integ__ol_n4c_qgm_wbc">
                        <li class="li">In the <span class="ph uicontrol">Setup</span> stage of the playbook, select the <span class="ph uicontrol">Configure EKS EC2 resources</span> activity.</li>
                        <li class="li" id="sgcc-configure-aws-integ__eks-ec2-add">On the Configure EKS EC2 resources page, select <span class="ph uicontrol">New</span>.</li>
                        <li class="li">On the Configure EKS EC2 resources window that appears, fill in the fields.<div class="table-wrap"><div id="sgcc-configure-aws-integ__table_dlp_xnv_1yb_wrapper" class="dataTables_wrapper no-footer"><div id="sgcc-configure-aws-integ__table_dlp_xnv_1yb_filter" class="dataTables_filter"></div><div class="zDocsFilterTableDiv zDocsFilterColumnsTableDiv"><div><button type="button" data-toggle="dropdown" aria-label="Export table to a file" class="zDocsTopicPageTableExportButton"><svg aria-hidden="true" class="ico-ellipsis-v"><use xlink:href="#ico-ellipsis-v"></use></svg></button><div class="dropdown-menu zDocsDropdownMenu zDocsTopicPageTableExportMenu"><button type="button" aria-label="Export to Excel" class="dropdown-item">Export to Excel</button><button type="button" aria-label="Export to CSV" class="dropdown-item">Export to CSV</button></div></div></div><table count-columns="2" class="table frame-all dataTable no-footer" id="sgcc-configure-aws-integ__table_dlp_xnv_1yb"><caption><span class="table--title-label">Table 7. </span><span class="title">Configure EKS EC2 resources fields</span></caption><colgroup><col><col></colgroup><thead class="thead">
                                    <tr class="row"><th class="entry colsep-1 rowsep-1 sorting" id="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__1" tabindex="0" aria-controls="sgcc-configure-aws-integ__table_dlp_xnv_1yb" rowspan="1" colspan="1" aria-label="Field: activate to sort column ascending">Field</th><th class="entry colsep-1 rowsep-1 sorting" id="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__2" tabindex="0" aria-controls="sgcc-configure-aws-integ__table_dlp_xnv_1yb" rowspan="1" colspan="1" aria-label="Description: activate to sort column ascending">Description</th></tr>
                                 </thead><tbody class="tbody">
                                    
                                    
                                    
                                    
                                    
                                    
                                 <tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__1">EKS EC2 Resource Id</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__2">Identifier of the <span class="ph">EKS EC2 resource</span>.</td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__1">EC2 Region</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__2">AWS region where the <span class="ph">EKS EC2 resource</span> is located.</td>
                                    </tr><tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__1">EC2 Account</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__2">User name assigned to the <span class="ph">EKS EC2 resource</span> account.</td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__1">Connection Alias</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__2">Connection alias associated with the <span class="ph">AWS</span> environment setup and configured in step <a class="xref" href="#sgcc-configure-aws-integ__aws-cred-0">7.a.ii</a>.</td>
                                    </tr><tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__1">Connection</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__2">Connection name associated with the <span class="ph">AWS</span> environment setup and configured in step <a class="xref" href="#sgcc-configure-aws-integ__aws-cred-0">7.a.ii</a>.</td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__1">Active</td>
                                       <td class="entry colsep-1 rowsep-1" headers="sgcc-configure-aws-integ__table_dlp_xnv_1yb__entry__2">Option to activate the <span class="ph">EKS EC2 resource</span>.</td>
                                    </tr></tbody></table></div></div></li>
                        <li class="li" id="sgcc-configure-aws-integ__eks-ec2-save">Select <span class="ph uicontrol">Save</span>.</li>
                        <li class="li">Repeat steps from <a class="xref" href="#sgcc-configure-aws-integ__eks-ec2-add">7.c.ii</a> to <a class="xref" href="#sgcc-configure-aws-integ__eks-ec2-save">7.c.iv</a> to add more EKS EC2 resources.</li>
                        <li class="li">Select <span class="ph uicontrol">Continue</span>.</li>
                     </ol></div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Run the <span class="ph">AWS</span> diagnostic tool before running a scheduled import job to identify any issues in the <span class="ph">AWS</span> environment setup.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="sgcc-configure-aws-integ__ol_swj_4km_wbc">
                        <li class="li">In the <span class="ph uicontrol">Setup</span> stage of the playbook, select the <span class="ph uicontrol">Run diagnostic tests</span> activity.</li>
                        <li class="li">On the Run diagnostic test page, select an option to exclude the corresponding test results from the diagnostic summary.<dl class="dl">
                              
                                 <dt class="dt dlterm">Skip SSM setup tests</dt>
                                 <dd class="dd">Excludes the software inventory data from the summary results by not calling the <span class="keyword apiname">GetInventory</span> API. Select this option when youâ€™ve opted out or not set up the configuration for
                                    SSM.</dd>
                              
                              
                                 <dt class="dt dlterm">Skip SSM Deep Discovery tests</dt>
                                 <dd class="dd">Excludes the deep discovery data from the summary results. Select this option when youâ€™ve opted out or not set up the configuration for SSM deep discovery.</dd>
                              
                              
                                 <dt class="dt dlterm">Skip EKS setup tests</dt>
                                 <dd class="dd">Excludes the EKS data from the summary results by not running the kubectl commands.<div class="note note note_note"><span class="note__title">Note:</span> This check box appears only when youâ€™ve configured EC2 resources in the <span class="ph uicontrol">Configure EKS EC2
                                          resources</span> activity.</div></dd>
                              
                           </dl></li>
                        <li class="li">Select <span class="ph uicontrol">Run diagnostic test</span> and wait for the test to complete.</li>
                        <li class="li">Review the diagnostic summary, the API access results, and the IAM permission validation logs.</li>
                        <li class="li">When the test results are successful, select <span class="ph uicontrol">Continue</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Configure the import schedule to import data at regular intervals.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="sgcc-configure-aws-integ__ol_mcx_blm_wbc">
                        <li class="li">In the <span class="ph uicontrol">Setup</span> stage of the playbook, select the <span class="ph uicontrol">Configure import schedule</span> activity.</li>
                        <li class="li">Expand the Parent scheduled data import within the Import schedules list to select the <span class="ph uicontrol">SG-AWS-Organization</span> import schedule.</li>
                        <li class="li">In the <span class="ph">Configure import schedule</span> dialog box, select the <span class="ph uicontrol">Active</span> check box, and then fill in the run schedule and time details.<p class="p">For more information, see <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/sgc-central/task//csh" href="/docs/csh?topicname=t_ScheduleADataImport&amp;version=yokohama&amp;pubname=yokohama-integrate-applications#table_r53_5hm_xp" class="xref">Schedule a data import</a>.</p></li>
                        <li class="li">Select <span class="ph uicontrol">Save</span>.<p class="p">Alternatively, select <span class="ph uicontrol">Execute Now</span> to execute the import schedule immediately.</p></li>
                        <li class="li">Select <span class="ph uicontrol">Continue</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the <span class="ph uicontrol">Setup</span> stage of the playbook, select the <span class="ph uicontrol">Confirm connection setup</span> activity to verify whether the connection was created.</span>
               </li>
            </ol>
         </li></ol></section>
      <section class="section postreq" id="sgcc-configure-aws-integ__postreq_ckv_qxb_gcc"><div class="tasklabel"><p class="sectiontitle tasklabel">What to do next</p></div>
         <p class="p">Select <span class="ph uicontrol">View all connections</span> to review the connection details. The configured connection appears in the Installed connections list.</p>
      </section>
   </div>
   <nav role="navigation"></nav><nav role="navigation" class="tasksNavigation"></nav>
</article></main></article></div></div><div class="contentPlaceholder" style="height: 393.5px;"><div class="contentContainer zDocsSideBoxes withExpandCollapse"><div class="contentWrapper" style="height: 393.5px;"><button aria-hidden="true" data-tooltip-id="zDocsMiniTocCollapseToolTip" data-tooltip-content="Hide Mini TOC" data-testid="expand-collapse-button" class="zDocsMiniTocCollapseButton" aria-label="Hide" aria-expanded="true"><svg aria-hidden="true" class="ico-angle-arrow-right"><use xlink:href="#ico-angle-arrow-right"></use></svg></button><div><h5 class=" css-g931ng" aria-level="5">Related Content</h5><ul><li><a class=" css-ettsdk" stylesprops="[object Object]" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/concept/cmdb-integration-aws-sg.html"><svg class="ico-related-link" aria-hidden="true"><use xlink:href="#ico-related-link"></use></svg>Service Graph Connector for AWS</a><p>Use the Service Graph Connector for AWS to securely bring in Amazon Web Services (AWS) data into your ServiceNow instance.</p></li><li><a class=" css-ettsdk" stylesprops="[object Object]" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/reference/cmdb-aws-classes.html"><svg class="ico-related-link" aria-hidden="true"><use xlink:href="#ico-related-link"></use></svg>CMDB classes targeted in Service Graph Connector for AWS</a><p>When you complete setting up the connection, you can configure the integration to periodically pull data from AWS. The data is saved in tables that extend from the Configuration item [cmdb_ci] table.</p></li><li><a class=" css-ettsdk" stylesprops="[object Object]" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/reference/cmdb-sgc-aws-resource-types.html"><svg class="ico-related-link" aria-hidden="true"><use xlink:href="#ico-related-link"></use></svg>Supported AWS resource types</a><p>Several AWS resource types are imported as CMDB data by the Service Graph Connector for AWS.</p></li><li><a class=" css-ettsdk" stylesprops="[object Object]" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/concept/sgc-cmdb-aws-conn.html"><svg class="ico-related-link" aria-hidden="true"><use xlink:href="#ico-related-link"></use></svg>Accessing the connection details of Service Graph Connector for AWS</a><p>You can access the connection details of the Service Graph Connector for AWS in a single view using the common connection framework (CCF) included within the Integration Commons for CMDB (sn_cmdb_int_util) store app.</p></li><li><a class=" css-ettsdk" stylesprops="[object Object]" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/concept/sgc-cmdb-aws-add-features.html"><svg class="ico-related-link" aria-hidden="true"><use xlink:href="#ico-related-link"></use></svg>Additional features within the Service Graph Connector for AWS</a><p>Use the additional features available within the Service Graph Connector for AWS to maximize its use for importing data.</p></li></ul></div></div></div></div></div>
