<!--
Auto-saved: Validation properties failed to update after 6 retries
Page ID: 2b1a89fe-dba5-8124-b22d-f8c31dff3601
Page URL: https://www.notion.so/Configure-Service-Graph-Connector-for-Observability-Dynatrace-using-guided-setup-2b1a89fedba58124b22df8c31dff3601
Page Title: Configure Service Graph Connector for Observability - Dynatrace using guided setup
Created: 2025-11-20T04:31:23.035Z
Source URL: https://www.servicenow.com/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/task/configure-dynatrace-integration.html

Validation Result:
{
  "success": false,
  "hasErrors": true,
  "issues": [
    "Block count too low: expected at least 8, got 0",
    "Table count mismatch: expected 3, got 0",
    "Image count mismatch: expected 2, got 0",
    "Missing callouts: expected 10, got 0 (10 missing)"
  ],
  "warnings": [
    "Ordered list item count differs: expected 213, got 0 (213 fewer - may be counting methodology difference)",
    "Unordered list item count differs: expected 38, got 0 (38 fewer - may be counting methodology difference)",
    "â„¹ï¸ Paragraph count lower than expected: ~19 (Â±10), got 0 (may be filtered empty paragraphs or promoted to list items)"
  ],
  "stats": {
    "totalBlocks": 0,
    "blockTypes": {},
    "headingCount": 0,
    "fetchTimeMs": 151
  },
  "summary": "âŒ Validation failed: 4 critical error(s), 3 informational warning(s)\n\nâŒ Critical Errors:\n1. Block count too low: expected at least 8, got 0\n2. Table count mismatch: expected 3, got 0\n3. Image count mismatch: expected 2, got 0\n4. Missing callouts: expected 10, got 0 (10 missing)\n\nâ„¹ï¸ Informational Warnings:\n1. Ordered list item count differs: expected 213, got 0 (213 fewer - may be counting methodology difference)\n2. Unordered list item count differs: expected 38, got 0 (38 fewer - may be counting methodology difference)\n3. â„¹ï¸ Paragraph count lower than expected: ~19 (Â±10), got 0 (may be filtered empty paragraphs or promoted to list items)\n\nðŸ“Š Content Comparison (Source â†’ Notion):\nâ€¢ Ordered list items: 213 â†’ 0\nâ€¢ Unordered list items: 38 â†’ 0\nâ€¢ Paragraphs: 19 â†’ 0\nâ€¢ Headings: 0 â†’ 0\nâ€¢ Tables: 3 â†’ 0\nâ€¢ Images: 2 â†’ 0\nâ€¢ Callouts: 10 â†’ 0",
  "sourceCounts": {
    "orderedListItems": 213,
    "unorderedListItems": 38,
    "totalListItems": 251,
    "paragraphs": 19,
    "headings": 0,
    "tables": 3,
    "images": 2,
    "callouts": 10,
    "codeBlocks": 2
  },
  "notionCounts": {
    "orderedListItems": 0,
    "unorderedListItems": 0,
    "totalListItems": 0,
    "paragraphs": 0,
    "headings": 0,
    "tables": 0,
    "images": 0,
    "callouts": 0,
    "codeBlocks": 0
  }
}

Error Details:
- Primary Error: You have been rate limited. Please try again in a few minutes.
-->

<div class="zDocsTopicPageBody" data-prismjs-copy="Copy" data-prismjs-copy-error="Text could not be copied. Try using keyboard shortcuts like Ctrl + C to copy instead." data-prismjs-copy-success="Copied!"><div dir="ltr" class="zDocsTopicPageBodyContent wide"><div><article class="hascomments" data-page="bundle:yokohama-servicenow-platform/enus/product/configuration-management/task/configure-dynatrace-integration.html" id="bundle:yokohama-servicenow-platform/enus/product/configuration-management/task/configure-dynatrace-integration.html"><main role="main"><article role="article" class="dita" id="configure-dynatrace-integration" aria-labelledby="title_configure-dynatrace-integration">
   
   
   
   
   <div class="body taskbody"><p class="shortdesc">Use the <span class="ph">Service Graph Connector for Observability - Dynatrace</span> to ingest <span class="ph">Configuration Management Database (CMDB)</span> data from <span class="ph">Dynatrace</span> using REST APIs. This connector is the second generation of the <span class="ph">Service Graph Connector for Observability - Dynatrace</span> application developed by <span class="ph">ServiceNow</span>.</p>
      <section class="section prereq"><div class="tasklabel"><p class="sectiontitle tasklabel">Before you begin</p></div>
         <div class="note important note_important" id="configure-dynatrace-integration__note_kqb_5tk_52c"><span class="note__title">Important:</span> Unless there are configuration issues, use the <span class="ph">SGC Central</span> view in the <span class="ph">CMDB Workspace</span> to configure the connection for the connector, as the guided setup method is being deprecated.</div>
         <p class="p">To use this <span class="ph">Service Graph Connector</span>, you need a subscription to a Subscription Unit that is based in the <span class="ph">IT Operations Management</span> (<span class="ph">ITOM</span>) Visibility application or in the <span class="ph">ITOM</span> Discovery application. As defined in the section titled "Managed IT Resource Types" in <a class="xref true-external" href="https://www.servicenow.com/products/entitlements-packages.html" target="_blank">ServiceNow Subscription Unit Overview</a> for your subscription, for managed IT resources that are created or modified in the <span class="ph">CMDB</span> by this <span class="ph">Service Graph Connector</span>, but that arenâ€™t yet managed by <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/task//csh" href="/docs/csh?topicname=itom-license-module&amp;version=yokohama&amp;pubname=yokohama-it-operations-management" class="xref">ITOM Visibility or ITOM Discovery</a>, these resources will increase Subscription Unit consumption from that application. Review your current Subscription Unit consumption within ITOM
        Visibility or ITOM Discovery to ensure available capacity.</p>
         <div class="p">Dependencies and requirements:<ul class="ul" id="configure-dynatrace-integration__ul_igl_nfr_sqb">
               <li class="li">The <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/concept/integration-commons-for-cmdb.html" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/concept/integration-commons-for-cmdb.html" class="xref" title="The Integration Commons for CMDB (sn_cmdb_int_util) store app contains the CMDB Integrations Dashboard and a set of Robust Transform Engine (RTE) transforms and script includes.">Integration Commons for CMDB</a> store app, which is automatically installed.</li>
               <li class="li">The CMDB CI class models store app, which is automatically installed. See <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/concept/cmdb-ci-class-models.html" href="/docs/bundle/yokohama-servicenow-platform/page/product/configuration-management/concept/cmdb-ci-class-models.html" class="xref" title="The CMDB contains base-system classes that store data about configuration items (CIs). The CMDB CI Class Models ServiceNow Store app adds class models that extend the CMDB class hierarchy, including class descriptions, identification rules, identifier entries, and dependent relationships if applicable.">CMDB CI Class Models</a>.</li>
               <li class="li">The ITOM Discovery License plugin (com.snc.itom.discovery.license). You must activate this plugin.</li>
               <li class="li">ITOM Licensing plugin (com.snc.itom.license). For more information, see <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/task//csh" href="/docs/csh?topicname=t_ActivateTheDiscoveryPlugin&amp;version=yokohama&amp;pubname=yokohama-it-operations-management" class="xref">Request Discovery</a>.</li>
               <li class="li">The Datastream Action plugin (com.glide.hub.action_type.datastream), which is automatically installed.</li>
               <li class="li">Observability Commons for <span class="ph">CMDB</span> (sn_observability), which <span class="ph"> is only required for event ingestion and will need to be installed prior to installing the connector for Event Management to work. For more information, see <a class="xref true-external" href="https://store.servicenow.com/sn_appstore_store.do#!/store/application/97e04562072020107add6a77c4a9351a" target="_blank">Observability Commons for CMDB</a> on the <span class="ph">ServiceNow Store</span>.</span>
                  </li>
         </ul><div class="note note note_note"><span class="note__title">Note:</span> To access the <span class="ph">Dynatrace</span> API, you need an access token with Read entities (entities.read) scope.</div></div>
         <p class="p">Role required: admin</p>
      </section>
      <section><div class="tasklabel"><p class="sectiontitle tasklabel">Procedure</p></div><ol class="ol steps"><li class="li step stepexpand">
            <span class="ph cmd">Navigate to <span class="ph menucascade"><span class="ph uicontrol">All</span><abbr> &gt; </abbr><span class="ph uicontrol">Service Graph Connectors</span><abbr> &gt; </abbr><span class="ph uicontrol">Dynatrace Observability</span><abbr> &gt; </abbr><span class="ph uicontrol">Setup</span></span>.</span>
         </li><li class="li step stepexpand">
            <span class="ph cmd">On the Getting started page, select <span class="ph uicontrol">Get Started</span>.</span>
         </li><li class="li step stepexpand">
            <span class="ph cmd">Set impact values for clusters and have the connector get access to the <span class="keyword apiname">SNC.ImpactManager</span> API.</span>
            <div class="itemgroup info">
               <div class="note note note_note"><span class="note__title">Note:</span> This step appears when Observability Commons is installed.</div>
            </div>
            <ol type="a" class="ol substeps" id="configure-dynatrace-integration__substeps_oyc_l12_xsb">
               <li class="li substep substepexpand">
                  <span class="ph cmd">On the Setup page, in the Enable Access To SNC.Impact Manager section, select the <span class="ph uicontrol">Copy Script to Global Scope</span> task.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Copy Script to Global Scope section, copy the script.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i">
                        <li class="li">Select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Switch to the global scope.</li>
                        <li class="li">Select the Additional actions icon (<img src="https://servicenow-be-prod.servicenow.com/bundle/yokohama-servicenow-platform/page/product/configuration-management/task/../image/menu-icon.png?_LANG=enus" class="image icon" id="configure-dynatrace-integration__image_w2m_xc2_xsb" alt="Additional actions icon">).</li>
                        <li class="li">Select <span class="ph uicontrol">Insert and Stay</span>.</li>
                        <li class="li">Select <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Verify script is copied properly section, verify the script.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_wzh_frz_svb">
                        <li class="li">Select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Select the <span class="keyword parmname">EvtMgmtImpactManagerMediator</span> script and verify it was copied to the global scope.</li>
                        <li class="li">In the <span class="ph uicontrol">Accessible from</span> field, ensure it is set to <span class="ph uicontrol">All application scopes</span>.</li>
                        <li class="li">Select <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
            </ol>
         </li><li class="li step stepexpand">
            <span class="ph cmd">Configure the basic setup.</span>
            <ol type="a" class="ol substeps" id="configure-dynatrace-integration__substeps_ss3_fnr_sqb">
               <li class="li substep substepexpand">
                  <span class="ph cmd">On the Setup page, in the Basic section, select the <span class="ph uicontrol">Configure Auth Token for Dynatrace</span> task.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">On the next page, in the Configure Auth Token for Dynatrace section, configure the authentication token.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_bt4_14r_sqb">
                        <li class="li">Select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">In the <span class="ph uicontrol">API Key</span> field, enter <kbd class="ph userinput">api-token &lt;your api token&gt;</kbd>. <p class="p">For example, <kbd class="ph userinput">api-token mytokenid</kbd>.</p></li>
                        <li class="li">Select <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Configure HTTP Connection for Dynatrace section, configure the HTTP connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_bs3_l4r_sqb">
                        <li class="li">Select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Update the <span class="ph uicontrol">Host</span> field with a fully qualified hostname for your Dynatrace instance.<p class="p">For example, <kbd class="ph userinput">abc123.live.dynatrace.com</kbd>.</p><p class="p">The hostname is automatically
                              filled in the <span class="ph uicontrol">Connection URL</span> field.</p></li>
                        <li class="li">Enable the use of a <span class="ph">MID Server</span>, select the <span class="ph uicontrol">Use MID Server</span> check box.<div class="note note note_note"><span class="note__title">Note:</span> The HTTP connection will be pre-configured to use the API key that was configured during the previous setup
                              task.</div></li>
                        <li class="li">Select <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Test the HTTP connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_qqt_zxm_4tb">
                        <li class="li">In the Test Connection section, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">To test the connection configuration, select <span class="ph uicontrol">Test Connection</span>.<div class="note note note_note"><span class="note__title">Note:</span> If any of the tests have errors, follow the suggestions for remediation.</div></li>
                        <li class="li">Set the <span class="ph">Test Connection</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Create Default Notification Payload Template section, select <span class="ph uicontrol">Configure</span>.</span>
                  <div class="itemgroup info">
                     <div class="note note note_note"><span class="note__title">Note:</span> You need an access token with the following scopes:<ul class="ul" id="configure-dynatrace-integration__ul_khp_1zd_svb">
                           <li class="li">Read configuration (ReadConfig)</li>
                           <li class="li">Write configuration (WriteConfig)</li>
                           <li class="li">Read log content (LogExport)</li>
                           <li class="li">Read metrics (metrics.read)</li>
                           <li class="li">Read settings (settings.read)</li>
                           <li class="li">Write settings (settings.write)</li>
                           <li class="li">Read logs (logs.read)</li>
                        </ul></div>
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_hdh_wvd_svb">
                        <li class="li">Update the name of the payload template, if needed.</li>
                        <li class="li">Select <span class="ph uicontrol">Problem Notification Setup</span>.</li>
                        <li class="li">Set the <span class="ph">Create Default Notification Payload Template</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">(Optional) 
                  <span class="ph cmd">If you want to support multiple instances, in the Upgrade Source Native Keys section, select <span class="ph uicontrol">Configure</span>.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_amz_3zd_svb">
                        <li class="li">In the <span class="ph uicontrol">Run script</span> text box of the background
                           script page, enter the following
                           script:<div class="zDocsCodeExplanationContainer"><button type="button" class="zDocsAiActionsButton" data-toggle="modal" tabindex="0" aria-label="Explain this code" data-target="#zDocsCodeExplanationModal_yokohama_servicenow_platformproduct_configuration_management_task_configure_dynatrace_integration_html_0"><svg class="ico-code-explanation" aria-hidden="true"><use xlink:href="#ico-code-explanation"></use></svg>Explain this code</button></div><pre class="language-javascript" data-language="javascript">var gr = new GlideRecord("sys_object_source");
gr.addQuery("name", "SGO-Dynatrace");
var grOR = gr.addQuery("id", "STARTSWITH", "HOST-");
grOR.addOrCondition("id", "STARTSWITH", "PROCESS_GROUP_INSTANCE-");
grOR.addOrCondition("id", "STARTSWITH", "PROCESS_GROUP-");
grOR.addOrCondition("id", "STARTSWITH", "SERVICE-");
grOR.addOrCondition("id", "STARTSWITH", "APPLICATION-");
gr.query();
while (gr.next()) {
    gr.setValue("id", "f379137e075820107add6a77c4a93538|||" + gr.getValue("id"));
    gr.update();
}</pre></li>
                        <li class="li">Select <span class="ph uicontrol">Run Script</span> to run the background script in
                           the <span class="ph uicontrol">global</span> scope.<p class="p">The script may take several
                              minutes to execute.</p></li>
                        <li class="li">After the script is executed, select <span class="ph uicontrol">Close</span>.</li>
                        <li class="li">From the application picker, select the <span class="ph uicontrol">Service Graph
                              Connector for Observability Dynatrace</span> application.</li>
                        <li class="li">Select <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
            </ol>
         </li><li class="li step stepexpand">
            <span class="ph cmd">For a Grail-enabled tenant, configure the OAuth 2.0 client credentials and test the connection.</span>
            <div class="itemgroup info">For more information on <span class="ph">Dynatrace</span> OAuth credentials, see <a class="xref true-external" href="https://docs.dynatrace.com/docs/dynatrace-api/basics/dynatrace-api-authentication/account-api-authentication" target="_blank">Authentication for the Account Management API</a> on the <span class="ph">Dynatrace</span> documentation site.</div>
            <ol type="a" class="ol substeps" id="configure-dynatrace-integration__substeps_v5c_2fd_s1c">
               <li class="li substep substepexpand">
                  <span class="ph cmd">Set the Dynatrace Grail status to indicate whether using the Grail-enabled tenant.</span>
                  <div class="itemgroup info">
                     <div class="note note note_note"><span class="note__title">Note:</span> 
                        <p class="p">You can check Grail enablement by contacting your <span class="ph">Dynatrace</span> administrator.</p>
                     </div>
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_wdx_5w2_s1c">
                        <li class="li">In the Configure Dynatrace Grail OAuth section of the Service Graph Connector for Observability Dynatrace Setup page, select <span class="ph uicontrol">Get Started</span>.</li>
                        <li class="li">For the <span class="ph">Set Dynatrace Grail status</span> task, select <span class="ph uicontrol">Configure</span> and review or modify the property settings for a Grail-enabled tenant.</li>
                        <li class="li">If you've Grail-enabled tenant, set the <span class="ph uicontrol">Value</span> field of the <span class="keyword parmname">grailEnabled</span> property to <kbd class="ph userinput">true</kbd>.<p class="p">Else, leave the value set to
                                 <kbd class="ph userinput">false</kbd>.</p></li>
                        <li class="li">Set the <span class="ph">Configure Dynatrace Grail OAuth</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Add a new OAuth connection.</span>
                  <div class="itemgroup info">
                     <div class="note note note_note"><span class="note__title">Note:</span> You need an OAuth token with the following scope permissions in Grail:<ul class="ul" id="configure-dynatrace-integration__ul_zny_yzg_s1c">
                           <li class="li">storage:logs:read</li>
                           <li class="li">storage:buckets:read</li>
                        </ul></div>
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_y3f_ygd_s1c">
                        <li class="li">In the Configure OAuth credentials section, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">On the <span class="ph">Workflow Studio</span> page that opens in a new browser tab, select <span class="ph uicontrol">Add Connection</span>.</li>
                        <li class="li">Enter a name, the connection URL, OAuth client ID, and OAuth client secret details.</li>
                        <li class="li">Select <span class="ph uicontrol">Create and Get OAuth Token</span>.</li>
                        <li class="li">Return to the guided setup page.</li>
                        <li class="li">Set the <span class="ph">Configure OAuth credentials</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Test the new OAuth connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i">
                        <li class="li">In the Test Connection section, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">To test the connection configuration, select <span class="ph uicontrol">Test Connection</span>.</li>
                        <li class="li">When the <span class="ph uicontrol">Status</span> field is set to <span class="ph uicontrol">Success</span>, select <span class="ph uicontrol">Update</span> to close the Test the connection dialog box and return to the guided setup page.<p class="p">If
                              any of the tests have errors, follow the suggestions for remediation.</p></li>
                        <li class="li">Set the <span class="ph">Test Connection</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
            </ol>
         </li><li class="li step stepexpand">
            <span class="ph cmd">Set up the additional configurations.</span>
            <ol type="a" class="ol substeps" id="configure-dynatrace-integration__substeps_yt2_ptr_sqb">
               <li class="li substep substepexpand">
                  <span class="ph cmd">On the Guided setup page, in the Advanced section, select the <span class="ph uicontrol">Advanced settings</span> task.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Advanced Settings section, select <span class="ph uicontrol">Configure</span> and review or modify the existing settings for a custom configuration.</span>
                  <div class="itemgroup info">You can configure the following settings:<ul class="ul" id="configure-dynatrace-integration__ul_atd_zf2_4yb">
                        <li class="li">Review the page size used in REST API requests to fetch Dynatrace entities.</li>
                        <li class="li">Define number of days a configuration item (CI) can be inactive before it is ignored.</li>
                        <li class="li">Enter the percentage of an application cluster's nodes that need to be in a state to raise that state to its parent in the service map.<p class="p">For example, you can define the percentage of nodes that need to go
                              critical for the parent of a cluster to be in a critical state. If there are 10 nodes in a cluster, setting the property value to <code class="ph codeph">70</code> would require at least 7 out of the 10 nodes in the cluster
                              to go into a critical state to reflect up to the parent service of the cluster.</p></li>
                        <li class="li">Enable ingesting events that do not have a matching CI in the <span class="ph">CMDB</span>.</li>
                        <li class="li">Enable populating the Application (cmdb_ci_appl) CIs from Dynatrace (Dynatrace processes) during scheduled imports.</li>
                     </ul></div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Select <span class="ph uicontrol">Save</span>.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Select <span class="ph uicontrol">Mark as Complete</span> for the Advanced Settings task.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Configure connection properties for the <span class="ph">Dynatrace</span> connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_dkb_c32_4yb">
                        <li class="li">In the <span class="ph">Configure Instance <span class="ph">Settings</span></span> section, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">In the Service Graph Connection Properties related list, configure the properties of the connection record.<div class="table-wrap"><div id="configure-dynatrace-integration__table_orp_332_4yb_wrapper" class="dataTables_wrapper no-footer"><div id="configure-dynatrace-integration__table_orp_332_4yb_filter" class="dataTables_filter"></div><div class="zDocsFilterTableDiv zDocsFilterColumnsTableDiv"><div><button type="button" data-toggle="dropdown" aria-label="Export table to a file" class="zDocsTopicPageTableExportButton"><svg aria-hidden="true" class="ico-ellipsis-v"><use xlink:href="#ico-ellipsis-v"></use></svg></button><div class="dropdown-menu zDocsDropdownMenu zDocsTopicPageTableExportMenu"><button type="button" aria-label="Export to Excel" class="dropdown-item">Export to Excel</button><button type="button" aria-label="Export to CSV" class="dropdown-item">Export to CSV</button></div></div></div><table count-columns="2" class="table frame-all dataTable no-footer" id="configure-dynatrace-integration__table_orp_332_4yb"><caption><span class="table--title-label">Table 1. </span><span class="title"><span class="ph">Dynatrace</span> connection properties</span></caption><colgroup><col><col></colgroup><thead class="thead">
                                    <tr class="row"><th class="entry colsep-1 rowsep-1 sorting" id="configure-dynatrace-integration__table_orp_332_4yb__entry__1" tabindex="0" aria-controls="configure-dynatrace-integration__table_orp_332_4yb" rowspan="1" colspan="1" aria-label="Property: activate to sort column ascending">Property</th><th class="entry colsep-1 rowsep-1 sorting" id="configure-dynatrace-integration__table_orp_332_4yb__entry__2" tabindex="0" aria-controls="configure-dynatrace-integration__table_orp_332_4yb" rowspan="1" colspan="1" aria-label="Description: activate to sort column ascending">Description</th></tr>
                                 </thead><tbody class="tbody">
                                    
                                    
                                    
                                    
                                 <tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_orp_332_4yb__entry__1">managementZoneNames</td>
                                       <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_orp_332_4yb__entry__2">Enter the name of the management zone to fetch from your <span class="ph">Dynatrace</span> environment. For multiple entries, separate the zone names with commas.</td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_orp_332_4yb__entry__1">tags</td>
                                       <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_orp_332_4yb__entry__2">Enter the name of the tags to fetch from your <span class="ph">Dynatrace</span> environment. For multiple entries, separate the tags with commas.</td>
                                    </tr><tr class="row odd">
                                       <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_orp_332_4yb__entry__1">serviceTypes</td>
                                       <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_orp_332_4yb__entry__2">Enter the list of <span class="ph">Dynatrace</span> service types from where to ingest the data into <span class="ph">CMDB</span>. For multiple entries, separate the service types with commas.<div class="note note note_note"><span class="note__title">Note:</span> All service types except for DATABASE_SERVICE are mapped to the Calculated
                                             Application Service [cmdb_ci_service_calculated] <span class="ph">CMDB</span> table. The DATABASE_SERVICE service type is mapped to the Database Instance [cmdb_ci_db_instance] <span class="ph">CMDB</span> table.<p class="p">Valid values are:</p><ul class="ul" id="configure-dynatrace-integration__ul_lqj_yjm_lzb">
                                                <li class="li">BACKGROUND_ACTIVITY</li>
                                                <li class="li">CICS_SERVICE</li>
                                                <li class="li">CUSTOM_SERVICE</li>
                                                <li class="li">DATABASE_SERVICE</li>
                                                <li class="li">ENTERPRISE_SERVICE_BUS_SERVICE</li>
                                                <li class="li">EXTERNAL</li>
                                                <li class="li">IBM_INTEGRATION_BUS_SERVICE</li>
                                                <li class="li">IMS_SERVICE</li>
                                                <li class="li">MESSAGING_SERVICE</li>
                                                <li class="li">QUEUE_LISTENER_SERVICE</li>
                                                <li class="li">RMI_SERVICE</li>
                                                <li class="li">RPC_SERVICE</li>
                                                <li class="li">WEB_REQUEST_SERVICE</li>
                                                <li class="li">WEB_SERVICE</li>
                                             </ul></div></td>
                                    </tr><tr class="row even">
                                       <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_orp_332_4yb__entry__1">managementZoneIds</td>
                                       <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_orp_332_4yb__entry__2">Enter the management zone ID to fetch from your <span class="ph">Dynatrace</span> environment. For multiple entries, separate the zone IDs with commas.</td>
                                    </tr></tbody></table></div></div></li>
                        <li class="li">Select <span class="ph uicontrol">Update</span>.</li>
                        <li class="li">Complete the <span class="ph">Configure Instance Settings</span> task by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                     
                  </div>
               </li>
               
               <li class="li substep substepexpand">
                  <span class="ph cmd">Execute the <span class="keyword parmname">Fix Older Ids</span> fix script to migrate the IDs of the imported data from the previous format to the latest format of the object IDs.</span>
                  <div class="itemgroup info">
                     <div class="note note note_note"><span class="note__title">Note:</span> Beginning with the 1.9.0 version of the <span class="ph">Service Graph Connector for Observability - Dynatrace</span>, the latest format of the object IDs, which is Base64 Encoding, is used for data import. The <span class="keyword parmname">Fix Older Ids</span> fix script migrates any existing data with
                        previous object IDs to the latest format.</div>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Configure the notification settings.</span>
                  <div class="itemgroup info">
                     <p class="p">The setup enables pulling ITOM events from <span class="ph">Dynatrace</span> into the <span class="ph">ServiceNow</span> instance.</p>
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_jm2_vbh_4yb">
                        <li class="li">In the Configure Problem Notification section, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">To push the configuration to <span class="ph">Dynatrace</span>, select <span class="ph uicontrol">Problem Notification Setup</span>.</li>
                        <li class="li">To receive the configuration from <span class="ph">Dynatrace</span>, select <span class="ph uicontrol">Fetch Notification Setup</span>.</li>
                        <li class="li">Complete the Configure Problem Notification task by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
            </ol>
         </li><li class="li step stepexpand">
            <span class="ph cmd">Clean up records from the previous instance.</span>
            <div class="itemgroup info">
               <div class="note note note_note"><span class="note__title">Note:</span> If you are not migrating from the previous <span class="ph">Dynatrace</span> version, you can skip this step.</div>
            </div>
            <ol type="a" class="ol substeps" id="configure-dynatrace-integration__substeps_hhx_bly_sqb">
               <li class="li substep substepexpand">
                  <span class="ph cmd">On the Setup page, in the Clean Up Records From Previous Integration section, select the <span class="ph uicontrol">Execute the New Integration</span> task.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">On the next page, in the Execute the New Integration section, select <span class="ph uicontrol">Configure</span> and select <span class="ph uicontrol">Update</span>.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Select <span class="ph uicontrol">Mark as Complete</span>.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Verify Integration Execution Has Completed section, verify the integration execution.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_vzp_jfb_5qb">
                        <li class="li">Select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">In the <span class="ph uicontrol">State</span> field, wait for the field to change to <span class="ph uicontrol">Complete</span> or <span class="ph uicontrol">Complete with errors</span>. <p class="p">It is normal to have errors during the migration from
                              an older version.</p></li>
                        <li class="li">To refresh the list, select and hold (or right-click) the header and select <span class="ph uicontrol">Refresh List</span>.</li>
                        <li class="li">Select <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Delete Application Services Left Over From Previous Version section, select <span class="ph uicontrol">Configure</span> to delete any application services that you no longer need from the previous integration.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Select <span class="ph uicontrol">Mark as Complete</span>.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Cleanup Identification Remnants - Copy Script section, copy the script.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i">
                        <li class="li">Select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Change the current scope to <span class="ph uicontrol">Global</span>.</li>
                        <li class="li">Select the menu icon (<img src="https://servicenow-be-prod.servicenow.com/bundle/yokohama-servicenow-platform/page/product/configuration-management/task/../image/menu-icon.png?_LANG=enus" class="image icon" id="configure-dynatrace-integration__image_x5k_k3b_5qb" alt="Menu icon.">).</li>
                        <li class="li">Select <span class="ph uicontrol">Insert and Stay</span>.</li>
                        <li class="li">Select <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the Cleanup Identification Remnants - Execute Script section, execute the script.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_mjk_z3b_5qb">
                        <li class="li">Select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Select the record of the script you copied.</li>
                        <li class="li">Select <span class="ph uicontrol">Update</span>.</li>
                     </ol>
                  </div>
               </li>
            </ol>
         </li><li class="li step stepexpand">(Optional) 
            <span class="ph cmd">Add multiple instances.</span>
            <div class="itemgroup info">
               <div class="note note note_note"><span class="note__title">Note:</span> If you do not need to add multiple instances, you can skip this step.</div>
            </div>
            <ol type="a" class="ol substeps" id="configure-dynatrace-integration__substeps_fx3_tsc_5qb">
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the <span class="ph">Add Multiple Instances</span> section of the <span class="ph">Service Graph Connector for Observability - Dynatrace</span> page, select <span class="ph uicontrol">Get Started</span>.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Update the data source access to create a data source for the new connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_fcq_yjf_s1c">
                        <li class="li">Ensure that you have edit permissions for the Datasource [sys_data_source] table.</li>
                        <li class="li">For the <span class="ph">Update Data Source Access</span> task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">To edit the record, select the <span class="ph uicontrol">Global</span> application scope from the application picker.</li>
                        <li class="li">In the Application Access related list of the Data Source form that opens in a new tab, select the <span class="ph uicontrol">Can create</span>, <span class="ph uicontrol">Can update</span>, and <span class="ph uicontrol">Can delete</span> check
                           boxes.</li>
                        <li class="li">Select <span class="ph uicontrol">Update</span> to return to the guided setup page.</li>
                        <li class="li">Select the <span class="ph uicontrol">Service Graph Connector for Observability Dynatrace</span> application scope from the application picker.</li>
                        <li class="li">Set the Update Data Source Access task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Update the scheduled data import access to create a scheduled import for the new connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_pkg_1lf_s1c">
                        <li class="li">Ensure that you have edit permissions for the Scheduled data import [scheduled_import_set] table.</li>
                        <li class="li">For the <span class="ph">Update Scheduled Data Import Access</span> task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">To edit the record, select the <span class="ph uicontrol">Global</span> application scope from the application picker.</li>
                        <li class="li">In the Application Access related list of the Data Source form that opens in a new tab, select the <span class="ph uicontrol">Can create</span>, <span class="ph uicontrol">Can update</span>, and <span class="ph uicontrol">Can delete</span> check
                           boxes.</li>
                        <li class="li">Select <span class="ph uicontrol">Update</span> to return to the guided setup page.</li>
                        <li class="li">Select the <span class="ph uicontrol">Service Graph Connector for Observability Dynatrace</span> application scope from the application picker.</li>
                        <li class="li">Set the <span class="ph">Update Scheduled Data Import Access</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Update the value access to create the data source for the new connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_khn_frf_s1c">
                        <li class="li">Ensure that you have edit permissions for the Value [sys_variable_value] table.</li>
                        <li class="li">For the <span class="ph">Update Value Access</span> task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">To edit the record, select the <span class="ph uicontrol">Global</span> application scope from the application picker.</li>
                        <li class="li">In the Application Access related list of the Data Source form that opens in a new tab, select the <span class="ph uicontrol">Can create</span>, <span class="ph uicontrol">Can update</span>, and <span class="ph uicontrol">Can delete</span> check
                           boxes.</li>
                        <li class="li">Select <span class="ph uicontrol">Update</span> to return to the guided setup page.</li>
                        <li class="li">Select the <span class="ph uicontrol">Service Graph Connector for Observability Dynatrace</span> application scope from the application picker.</li>
                        <li class="li">Set the Update Value Access task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Clear the data source and import set cache for the new connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_jvs_qrf_s1c">
                        <li class="li">For the <span class="ph">Clear Cache for Datasource and Import set</span> task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">In the <span class="ph uicontrol">Run script</span> text box of the background
                           script page, enter the following
                           script:<div class="zDocsCodeExplanationContainer"><button type="button" class="zDocsAiActionsButton" data-toggle="modal" tabindex="0" aria-label="Explain this code" data-target="#zDocsCodeExplanationModal_yokohama_servicenow_platformproduct_configuration_management_task_configure_dynatrace_integration_html_1"><svg class="ico-code-explanation" aria-hidden="true"><use xlink:href="#ico-code-explanation"></use></svg>Explain this code</button></div><pre class="language-plaintext" data-language="plaintext">
      GlideTableManager.invalidateTable("sys_data_source");
      GlideCacheManager.flushTable("sys_data_source");

      GlideTableManager.invalidateTable("scheduled_import_set");
      GlideCacheManager.flushTable("scheduled_import_set");

      GlideTableManager.invalidateTable("sys_variable_value");
      GlideCacheManager.flushTable("sys_variable_value");

      GlideTableManager.invalidateTable("sys_db_object");
      GlideCacheManager.flushTable("sys_db_object");</pre></li>
                        <li class="li">Select <span class="ph uicontrol">Run Script</span> to run the background script in
                           the <span class="ph uicontrol">global</span> scope.<p class="p">The script may take several
                              minutes to execute.</p></li>
                        <li class="li">After the script is executed, select <span class="ph uicontrol">Close</span>.</li>
                        <li class="li">Select the <span class="ph uicontrol">Service Graph Connector for Observability Dynatrace</span> application scope from the application picker.</li>
                        <li class="li">Set the <span class="ph">Clear Cache for Datasource and Import set</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand" id="configure-dynatrace-integration__substep_x21_3yg_s1c">
                  <span class="ph cmd">Add another connection.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_icl_3sf_s1c">
                        <li class="li">Ensure that the application scope is set to <span class="ph uicontrol">Service Graph Connector for Observability</span> in the application picker.</li>
                        <li class="li">For the <span class="ph">Add Another Connection</span> task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">On the <span class="ph">Workflow Studio</span> page that opens in a new browser tab, select <span class="ph uicontrol">Add Connection</span>.</li>
                        <li class="li">On the form, fill in the fields.<div class="table-wrap"><table count-columns="2" class="table frame-all" id="configure-dynatrace-integration__table_vyj_kgv_y4b"><caption><span class="table--title-label">Table 2. </span><span class="title">Connection form</span></caption><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead class="thead">
                                    <tr class="row">
                                       <th class="entry" id="configure-dynatrace-integration__table_vyj_kgv_y4b__entry__1">Field</th>
                                       <th class="entry" id="configure-dynatrace-integration__table_vyj_kgv_y4b__entry__2">Description</th>
                                    </tr>
                                 </thead><tbody class="tbody">
                                    <tr class="row">
                                       <td class="entry" headers="configure-dynatrace-integration__table_vyj_kgv_y4b__entry__1">Connection Name</td>
                                       <td class="entry" headers="configure-dynatrace-integration__table_vyj_kgv_y4b__entry__2">Display name for the connection.</td>
                                    </tr>
                                    <tr class="row">
                                       <td class="entry" headers="configure-dynatrace-integration__table_vyj_kgv_y4b__entry__1">Connection Hostname</td>
                                       <td class="entry" headers="configure-dynatrace-integration__table_vyj_kgv_y4b__entry__2">Host name of the <span class="ph">Dynatrace</span> instance.</td>
                                    </tr>
                                    <tr class="row">
                                       <td class="entry" headers="configure-dynatrace-integration__table_vyj_kgv_y4b__entry__1">API Key</td>
                                       <td class="entry" headers="configure-dynatrace-integration__table_vyj_kgv_y4b__entry__2"><span class="ph">Dynatrace</span> API Key.<div class="note note note_note"><span class="note__title">Note:</span> The API Key must be prefixed with <kbd class="ph userinput">api-token</kbd>.</div></td>
                                    </tr>
                                 </tbody></table></div></li>
                        <li class="li">Select <span class="ph uicontrol">Create Connection</span>.</li>
                        <li class="li">Return to the guided setup page.</li>
                        <li class="li">Set the <span class="ph">Add Another Connection</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand" id="configure-dynatrace-integration__substep_bbt_zxg_s1c">
                  <span class="ph cmd">If using a Grail-enabled tenant, configure additional OAuth 2.0 connections.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_ddf_fxg_s1c">
                        <li class="li">For the <span class="ph">Add another OAuth connection</span> task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">On the <span class="ph">Workflow Studio</span> page that opens in a new browser tab, select <span class="ph uicontrol">Add Connection</span>.</li>
                        <li class="li">Enter a name, the connection URL, OAuth client ID, and OAuth client secret details.</li>
                        <li class="li">Select <span class="ph uicontrol">Create and Get OAuth Token</span>.</li>
                        <li class="li">Return to the guided setup page.</li>
                        <li class="li">Set the <span class="ph">Add another OAuth connection</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">If using a Grail-enabled tenant, select the OAuth 2.0 client credentials alias created earlier in the <span class="ph">Add another OAuth connection</span> task.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_j34_pxg_s1c">
                        <li class="li">For the <span class="ph">Link connection record with OAuth client credentials</span> task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">In the <span class="ph uicontrol">OAuth 2.0 Connection and Credentials Alias</span> field, search for and select the OAuth connection alias you created in the step <a class="xref" href="#configure-dynatrace-integration__substep_bbt_zxg_s1c">8.g</a>.</li>
                        <li class="li">In the <span class="ph uicontrol">Service Graph connection record</span>, search for and select the connection record you created in step <a class="xref" href="#configure-dynatrace-integration__substep_x21_3yg_s1c">8.f</a>.</li>
                        <li class="li">Select <span class="ph uicontrol">Submit</span>.</li>
                        <li class="li">Return to the guided setup page.</li>
                        <li class="li">Set the <span class="ph">Link connection record with OAuth client credentials</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">(Optional) 
                  <span class="ph cmd">Set up the MID Server for the connection you created.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_q4f_jvf_s1c">
                        <li class="li">For the <span class="ph">Configure Mid Servers</span> task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Select the name of the connection you created.</li>
                        <li class="li">Select the <span class="ph uicontrol">Use MID server</span> check box.</li>
                        <li class="li">Select <span class="ph uicontrol">Update</span>.</li>
                        <li class="li">Set the <span class="ph">Configure Mid Servers</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Configure the instance settings.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_k2r_tdj_rvb">
                        <li class="li">In the Configure Instances section, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Select the name of the connection you want to configure and then select <span class="ph uicontrol">Update</span>.</li>
                        <li class="li">Set the <span class="ph">Configure Instances</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Test the new connections.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_rhc_ywc_5qb">
                        <li class="li">For the Test Connections task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Select the name of the connection you want to test.</li>
                        <li class="li">To validate the data source configuration, select <span class="ph uicontrol">Test Load 20 Records</span>.</li>
                        <li class="li">When the <span class="ph uicontrol">Status</span> field is set to <span class="ph uicontrol">Success</span>, select <span class="ph uicontrol">Update</span> to close the Test the connection dialog box and return to the guided setup page.<p class="p">If
                              any of the tests have errors, follow the suggestions for remediation.</p></li>
                        <li class="li">Set the <span class="ph">Test Connections</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Create default notification payload templates.</span>
                  <div class="itemgroup info">
                     <ol class="ol" type="i" id="configure-dynatrace-integration__ol_j3n_pvf_s1c">
                        <li class="li">Ensure that you have the access token with the following scopes:<ul class="ul" id="configure-dynatrace-integration__ul_jhx_rvf_s1c">
                              <li class="li">Read configuration (ReadConfig)</li>
                              <li class="li">Write configuration (WriteConfig)</li>
                              <li class="li">Read log content (LogExport)</li>
                              <li class="li">Read metrics (metrics.read)</li>
                           </ul></li>
                        <li class="li">For the Create Default Notification Payload Templates task, select <span class="ph uicontrol">Configure</span>.</li>
                        <li class="li">Select the connection you want to create a default notification payload template for.</li>
                        <li class="li">Update the name of the payload template, if needed.</li>
                        <li class="li">Select <span class="ph uicontrol">Problem Notification Setup</span>.<div class="p">The notification is created with the payload parameters as described in the following table.<div class="table-wrap"><div id="configure-dynatrace-integration__table_cjc_gfn_jzb_wrapper" class="dataTables_wrapper no-footer"><div id="configure-dynatrace-integration__table_cjc_gfn_jzb_filter" class="dataTables_filter"></div><div class="zDocsFilterTableDiv zDocsFilterColumnsTableDiv"><div><button type="button" data-toggle="dropdown" aria-label="Export table to a file" class="zDocsTopicPageTableExportButton"><svg aria-hidden="true" class="ico-ellipsis-v"><use xlink:href="#ico-ellipsis-v"></use></svg></button><div class="dropdown-menu zDocsDropdownMenu zDocsTopicPageTableExportMenu"><button type="button" aria-label="Export to Excel" class="dropdown-item">Export to Excel</button><button type="button" aria-label="Export to CSV" class="dropdown-item">Export to CSV</button></div></div></div><table count-columns="2" class="table frame-all dataTable no-footer" id="configure-dynatrace-integration__table_cjc_gfn_jzb"><caption><span class="table--title-label">Table 3. </span><span class="title">Notification payload paramters</span></caption><colgroup><col><col></colgroup><thead class="thead">
                                       <tr class="row"><th class="entry colsep-1 rowsep-1 sorting" id="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__1" tabindex="0" aria-controls="configure-dynatrace-integration__table_cjc_gfn_jzb" rowspan="1" colspan="1" aria-label="Parameter: activate to sort column ascending">Parameter</th><th class="entry colsep-1 rowsep-1 sorting" id="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__2" tabindex="0" aria-controls="configure-dynatrace-integration__table_cjc_gfn_jzb" rowspan="1" colspan="1" aria-label="Description: activate to sort column ascending">Description</th></tr>
                                    </thead><tbody class="tbody">
                                       
                                       
                                       
                                       
                                       
                                    <tr class="row odd">
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__1">name</td>
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__2">Name of the notification. The name is automatically prefixed with <code class="ph codeph">ServiceNow Default Problem Notification</code> and the instance name is added to it.</td>
                                       </tr><tr class="row even">
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__1">alertingProfile</td>
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__2">ID of the alerting profile in <span class="ph">Dynatrace</span>.</td>
                                       </tr><tr class="row odd">
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__1">type</td>
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__2">Type of payload that is automatically set to <code class="ph codeph">webhook</code>.</td>
                                       </tr><tr class="row even">
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__1">url</td>
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__2">Webhook URL in the format <code class="ph codeph">https://https://&lt;instance name&gt;.service-now.com/ /api/sn_em_connector/em/inbound_event?source=SGO-Dynatrace</code>.</td>
                                       </tr><tr class="row odd">
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__1">payload</td>
                                          <td class="entry colsep-1 rowsep-1" headers="configure-dynatrace-integration__table_cjc_gfn_jzb__entry__2">Custom payload created for notification in the following format:<pre class="language-plaintext" data-language="plaintext">{  

  "ImpactedEntities": {ImpactedEntities},  

  "ImpactedEntity": "{ImpactedEntity}",  

  "PID": "{PID}",  

  "ProblemDetailsHTML": "{ProblemDetailsHTML}",  

  "ProblemDetailsJSON": {ProblemDetailsJSON},  

  "ProblemDetailsMarkdown": "{ProblemDetailsMarkdown}",  

  "ProblemDetailsText": "{ProblemDetailsText}",  

  "ProblemID": "{ProblemID}",  

  "ProblemImpact": "{ProblemImpact}",  

  "ProblemSeverity": "{ProblemSeverity}",  

  "ProblemTitle": "{ProblemTitle}",  

  "ProblemURL": "{ProblemURL}",  

  "State": "{State}",  

  "Tags": "{Tags}"  

} </pre></td>
                                       </tr></tbody></table></div></div></div></li>
                        <li class="li">Repeat the steps for each connection.</li>
                        <li class="li">Set the <span class="ph">Create Default Notification Payload Templates</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</li>
                     </ol>
                  </div>
               </li>
            </ol>
         </li><li class="li step stepexpand">
            <span class="ph cmd">Set up scheduled import jobs.</span>
            <ol type="a" class="ol substeps" id="configure-dynatrace-integration__substeps_jlv_nly_sqb">
               <li class="li substep substepexpand">
                  <span class="ph cmd">In the <span class="ph">Set up scheduled import jobs</span> section of the <span class="ph">Service Graph Connector for Observability - Dynatrace</span> page, select <span class="ph uicontrol">Get Started</span>.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">For the Configure the scheduled import jobs task, select <span class="ph uicontrol">Configure</span>.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Select the name of the scheduled import you want to run.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">On the Scheduled Data Import form, verify the field values for the scheduled job and select the <span class="ph uicontrol">Active</span> check box.</span>
                  <div class="itemgroup info">
                     <p class="p">For more information, see <a data-bundleid="yokohama-servicenow-platform" data-navpath="product/configuration-management/task//csh" href="/docs/csh?topicname=t_ScheduleADataImport&amp;version=yokohama&amp;pubname=yokohama-integrate-applications#table_r53_5hm_xp" class="xref">Schedule a data import</a>.</p>
                  </div>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Select <span class="ph uicontrol">Update</span>.</span>
               </li>
               <li class="li substep substepexpand">
                  <span class="ph cmd">Set the <span class="ph">Set up scheduled import jobs</span> task to complete by selecting <span class="ph uicontrol">Mark as Complete</span>.</span>
               </li>
            </ol>
         </li></ol></section>
   </div>
</article></main></article></div></div></div>
